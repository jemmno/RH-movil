<ion-header>
  <ion-navbar color="positive" no-border-bottom>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Notas Parciales</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
    <ion-list *ngIf="parciales">
        <ion-item-sliding 
        *ngFor="let parcial of parciales | groupBy:'asignatura' | pairs ; let i=index"
        text-wrap (click)="toggleGroup(i)" [ngClass]="{active: isGroupShown(i)}">
          <ion-item>
              <ion-card>
              <ion-card-header>
                <span >{{ parcial[0] }}</span>
                <ion-icon style="float: right;" color="success" 
                  [name]="isGroupShown(i) ? 'arrow-dropdown' : 'arrow-dropright'">
                </ion-icon> 
              </ion-card-header>
              <div *ngIf="isGroupShown(i)">
                  <ion-list >
                      <ion-item *ngFor="let materia of parcial[1] | orderBy:'fechaexamen' | reverse">
                        <div>
                            <h2 item-left>{{materia.tipoexamen}}</h2>
                            <p item-left >Fecha: {{materia.fechaexamen | date}}</p>
                          </div>
                        
                        <h2 item-right>{{materia.puntajeasistencia}}</h2>
                        
                      </ion-item>
                  </ion-list>
              </div>
                  
              
              </ion-card>
            </ion-item>
          </ion-item-sliding>
        </ion-list>  

        <div *ngIf="parciales && parciales.length == 0" text-center>
          No posee calificaciones parciales en este a√±o
        </div>
</ion-content>
